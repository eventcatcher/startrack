// Sa Jul 03 22:04:00 1999
// EXTCTRL.LDF
// pcb-Version
// 24Bit Umsetzung 16CH to 2 x 8CH und umgekehrt fuer Startrack DSP-Port 16Kanal
//
// fuer Startrack-DSP-Karte
//
LDF 1.00.00 DESIGNLDF;
DESIGN extctrl;
REVISION V1.0;
AUTHOR Stephan Wilhelm;
PROJECTNAME StarTrack;

PART ispLSI1016-60LJ;

DECLARE
END;  //DECLARE


SYM GLB  A0  1  shiftc3;
SIGTYPE SHCQ8      Reg ; // 
SIGTYPE SHCQ9      Reg ; // 
SIGTYPE SHCQ10     Reg ; // 
SIGTYPE SHQDATC    Reg ; // 

EQUATIONS

SHCQ8 = SHCQ7;
SHCQ8.PTCLK = OUTCLK;

SHCQ9 = SHCQ8;
SHCQ9.PTCLK = OUTCLK;

SHCQ10 = SHCQ9;
SHCQ10.PTCLK = OUTCLK;

SHQDATC = SHCQ10;
SHQDATC.PTCLK = OUTCLK;

END;
END;

SYM GLB  A1  1  shft24a1;
SIGTYPE SHAQ0      Reg ; // 
SIGTYPE SHAQ1      Reg ; // 
SIGTYPE SHAQ2      Reg ; // 
SIGTYPE SHAQ3      Reg ; // 

EQUATIONS

SHAQ0 = PDATA;
SHAQ0.PTCLK = PACLK;

SHAQ1 = SHAQ0;
SHAQ1.PTCLK = PACLK;

SHAQ2 = SHAQ1;
SHAQ2.PTCLK = PACLK;

SHAQ3 = SHAQ2;
SHAQ3.PTCLK = PACLK;

END;
END;

SYM GLB  A2  1  shft24a2;
SIGTYPE SHAQ4      Reg ; // 
SIGTYPE SHAQ5      Reg ; // 
SIGTYPE SHAQ6      Reg ; // 
SIGTYPE SHQDATA    Reg ; // 

EQUATIONS

SHAQ4 = SHAQ3;
SHAQ4.PTCLK = PACLK;

SHAQ5 = SHAQ4;
SHAQ5.PTCLK = PACLK;

SHAQ6 = SHAQ5;
SHAQ6.PTCLK = PACLK;

SHQDATA = SHAQ6;
SHQDATA.PTCLK = PACLK;

END;
END;

SYM GLB  A3  1  shft24b1;
SIGTYPE SHBQ0      Reg ; // 
SIGTYPE SHBQ1      Reg ; // 
SIGTYPE SHBQ2      Reg ; // 
SIGTYPE SHBQ3      Reg ; // 

EQUATIONS

SHBQ0 = PDATA;
SHBQ0.PTCLK = PBCLK;

SHBQ1 = SHBQ0;
SHBQ1.PTCLK = PBCLK;

SHBQ2 = SHBQ1;
SHBQ2.PTCLK = PBCLK;

SHBQ3 = SHBQ2;
SHBQ3.PTCLK = PBCLK;

END;
END;

SYM GLB  A4  1  shft24b2;
SIGTYPE SHBQ4      Reg ; // 
SIGTYPE SHBQ5      Reg ; // 
SIGTYPE SHBQ6      Reg ; // 
SIGTYPE SHQDATB    Reg ; // 

EQUATIONS

SHBQ4 = SHBQ3;
SHBQ4.PTCLK = PBCLK;

SHBQ5 = SHBQ4;
SHBQ5.PTCLK = PBCLK;

SHBQ6 = SHBQ5;
SHBQ6.PTCLK = PBCLK;

SHQDATB = SHBQ6;
SHQDATB.PTCLK = PBCLK;

END;
END;

SYM GLB  A5  1  look24;
SIGTYPE BIT24     Reg ; // 

EQUATIONS

BIT24 = !INSYNC;
BIT24.PTCLK = !WPI5 & !WPI4 & !WPI3 & !WPI2 & WPI1 & !WPI0 & BPI2;

END;
END;


SYM IOC  IO0  1 PDATA;
XPIN IO XPDATA LOCK 44;  // DSP-Port Data-Source (CH 1-16)
IB11(PDATA,XPDATA)
END;

SYM IOC  IO1  1 OUTCLK;
XPIN IO XOUTCLK LOCK 31;  // OutClk Port A & B (und fuer PLD extctrl)
IB11(OUTCLK,XOUTCLK)
END;

SYM IOC  IO2  1 BIT24;
XPIN IO XBIT24 LOCK 30;  // Flag fuer 24Bit-Playback
OB11(XBIT24,BIT24)
END;

SYM IOC  IO3  1 PACLK;
XPIN IO XPACLK LOCK 42;  // Clock fuer PortA-Shifter (in PLD extctrl)
IB11(PACLK,XPACLK)
END;

SYM IOC  IO4  1 PBCLK;
XPIN IO XPBCLK LOCK 43;  // Clock fuer PortB-Shifter (in PLD extctrl)
IB11(PBCLK,XPBCLK)
END;

SYM IOC  IO5  1 SHCQ7;
XPIN IO XSHCQ7 LOCK 26;  // Data fuer PortC-Shifter (in PLD extctrl)
IB11(SHCQ7,XSHCQ7)
END;

SYM IOC  IO6  1 SHQDATA;
XPIN IO XSHQDATA LOCK 29;  // Shiftdata fuer Shiftreg A (von PLD extctrl)
OB11(XSHQDATA,SHQDATA)
END;

SYM IOC  IO7  1 SHQDATB;
XPIN IO XSHQDATB LOCK 22;  // Shiftdata fuer Shiftreg B (von PLD extctrl)
OB11(XSHQDATB,SHQDATB)
END;

SYM IOC  IO8  1 SHQDATC;
XPIN IO XSHQDATC LOCK 25;  // Shiftdata fuer Shiftreg C (von PLD extctrl)
OB11(XSHQDATC,SHQDATC)
END;

SYM IOC  IO9  1 WPI5;
XPIN IO XWPI5 LOCK 39;  // Counter (fuer PLD extctrl)
IB11(WPI5,XWPI5)
END;

SYM IOC  IO10  1 WPI4;
XPIN IO XWPI4 LOCK 41;  // Counter (fuer PLD extctrl)
IB11(WPI4,XWPI4)
END;

SYM IOC  IO11  1 WPI3;
XPIN IO XWPI3 LOCK 37;  // Counter (fuer PLD extctrl)
IB11(WPI3,XWPI3)
END;

SYM IOC  IO12  1 WPI2;
XPIN IO XWPI2 LOCK 40;  // Counter (fuer PLD extctrl)
IB11(WPI2,XWPI2)
END;

SYM IOC  IO13  1 WPI1;
XPIN IO XWPI1 LOCK 27;  // Counter (fuer PLD extctrl)
IB11(WPI1,XWPI1)
END;

SYM IOC  IO14  1 WPI0;
XPIN IO XWPI0 LOCK 28;  // Counter (fuer PLD extctrl)
IB11(WPI0,XWPI0)
END;

SYM IOC  IO15  1 BPI2;
XPIN IO XBPI2 LOCK 38;  // Counter (fuer PLD extctrl)
IB11(BPI2,XBPI2)
END;

SYM IOC  IO16  1 INSYNC;
XPIN IO XINSYNC LOCK 32;  // DSP-Port Framesync-Source (CH 1-16)
IB11(INSYNC,XINSYNC)
END;
